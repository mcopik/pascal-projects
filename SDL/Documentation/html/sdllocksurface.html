<html>
<head>
  <title>SDL_LockSurface</title>
      
  <meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.64">
   
  <link rel="HOME" TITLE="JEDI-SDL Library Documentation" href="index.html">
   
  <link rel="UP" title="Video" href="video.html">
   
  <link rel="PREVIOUS" title="SDL_FreeSurface" href="sdlfreesurface.html">
   
  <link rel="NEXT" title="SDL_UnlockSurface" href="sdlunlocksurface.html">
</head>
 <body class="REFENTRY" bgcolor="#fff8dc" text="#000000" link="#0000ee" vlink="#551a8b" alink="#ff0000">
 
<div class="NAVHEADER"> 
<table width="100%" border="0" cellpadding="0" cellspacing="0">
   <tbody>
     <tr>
       <th colspan="3" align="Center"><i>JEDI</i>-SDL Library Documentation</th>
     </tr>
     <tr>
       <td width="8%" align="Left" valign="Bottom"><a href="sdlfreesurface.html">
 Prev</a></td>
       <td width="78%" align="Center" valign="Bottom"><br>
       </td>
       <td width="8%" align="Right" valign="Bottom"><a href="sdlunlocksurface.html">
 Next</a></td>
     </tr>
   
  </tbody> 
</table>
 
<hr align="Left" width="100%"></div>
 
<h1><a name="SDLLOCKSURFACE">SDL_LockSurface</a></h1>
 
<div class="REFNAMEDIV"><a name="AEN1510"></a> 
<h2>Name</h2>
 SDL_LockSurface&nbsp;--&nbsp;Lock a surface for directly access.</div>
 
<div class="REFSYNOPSISDIV"><a name="AEN1513"></a><br>
 
<h2>Synopsis</h2>
 
<div class="FUNCSYNOPSIS"><a name="AEN1514"></a> 
<p></p>
 <pre class="FUNCSYNOPSISINFO"><b>uses</b> <br>  SDL;</pre>
 
<p>function <b>SDL_LockSurface</b>( surface : PSDL_Surface ) : Integer;</p>
 
<p></p>
 </div>
 </div>
 
<div class="REFSECT1"><a name="AEN1520"></a> 
<h2>Description</h2>
 
<p><tt class="FUNCTION">SDL_LockSurface</tt> sets up a surface for directly&nbsp;
accessing the pixels.&nbsp; Between calls to <tt class="FUNCTION">SDL_LockSurface</tt>
&nbsp; and <tt class="FUNCTION">SDL_UnlockSurface</tt>, you can write to
and read from&nbsp; <tt class="PARAMETER"><i>surface.<tt class="STRUCTFIELD"><i>
pixels</i></tt></i></tt> , using the pixel format stored in <tt class="PARAMETER"><i>
surface.<tt class="STRUCTFIELD"><i>format</i></tt></i></tt>.&nbsp; Once you
are done accessing the surface, you should use <tt class="FUNCTION">SDL_UnlockSurface</tt>
 to release it.</p>
 
<p>Not all surfaces require locking. &nbsp; If <tt class="LITERAL">SDL_MUSTLOCK</tt>
 ( <tt class="PARAMETER"><i>surface</i></tt> ) evaluates to <span class="RETURNVALUE">
 0</span>, then you can read and write to the&nbsp; surface at any time,
and the pixel format of the surface will not change. </p>
 
<p>No operating system or library calls should be made between lock/unlock
 pairs, as critical system locks may be held during this time.</p>
 
<p>It should be noted, that since SDL 1.1.8 surface locks are recursive. This
means that you can lock a surface multiple times, but each lock must have
a matching unlock. <pre class="PROGRAMLISTING">    .<br>    .<br>    SDL_LockSurface( surface );<br>    .<br>    // Surface is locked <br>    // Direct pixel access on surface here <br>    .<br>    SDL_LockSurface( surface );<br>    .<br>    // More direct pixel access on surface <br>    .<br>    SDL_UnlockSurface( surface );<br>    // Surface is still locked <br>    // Note: Is versions &lt; 1.1.8, the surface would have been <br>    // no longer locked at this stage                         <br>    .<br>    SDL_UnlockSurface( surface );<br>    // Surface is now unlocked <br>    .<br>    .</pre>
   </p>
 </div>
 
<div class="REFSECT1"><a name="AEN1538"></a> 
<h2>Return Value</h2>
 
<p><tt class="FUNCTION">SDL_LockSurface</tt> returns <span class="RETURNVALUE">
 0</span>,  or <span class="RETURNVALUE">-1</span> if the surface couldn't 
be locked.</p>
 </div>
 
<div class="REFSECT1"><a name="AEN1544"></a> 
<h2>See Also</h2>
 
<p><a href="sdlunlocksurface.html"><tt class="FUNCTION">SDL_UnlockSurface</tt></a></p>
 </div>
 
<div class="NAVFOOTER"> 
<hr align="Left" width="100%"> 
<table width="100%" border="0" cellpadding="0" cellspacing="0">
   <tbody>
     <tr>
       <td width="31%" align="Left" valign="Top"><a href="sdlfreesurface.html">
 Prev</a></td>
       <td width="34%" align="Center" valign="Top"><a href="index.html">Home</a></td>
       <td width="31%" align="Right" valign="Top"><a href="sdlunlocksurface.html">
 Next</a></td>
     </tr>
     <tr>
       <td width="31%" align="Left" valign="Top">SDL_FreeSurface</td>
       <td width="34%" align="Center" valign="Top"><a href="video.html">Up</a></td>
       <td width="31%" align="Right" valign="Top">SDL_UnlockSurface</td>
     </tr>
   
  </tbody> 
</table>
 </div>
 
</body>
</html>
